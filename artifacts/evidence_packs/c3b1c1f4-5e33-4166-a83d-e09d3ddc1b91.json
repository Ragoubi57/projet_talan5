{
  "request_id": "c3b1c1f4-5e33-4166-a83d-e09d3ddc1b91",
  "timestamp": "2026-02-18T09:15:33.053300+00:00",
  "request_text": "Show complaint counts by product and state for the last 12 months",
  "user_attributes": {
    "role": "auditor",
    "region": "all",
    "purpose": "investigation"
  },
  "policy_decision": {
    "result": "ALLOW",
    "reason": "Low sensitivity data allowed for all authenticated roles",
    "constraints_applied": {
      "forbid_export": true,
      "max_rows": 200,
      "min_group_size": 10,
      "must_log_access": true
    }
  },
  "metrics": {
    "metric_ids": [
      "complaint_count"
    ],
    "metric_versions": {
      "complaint_count": "1.2.0"
    }
  },
  "data_products": {
    "products_used": [
      "dp_complaints"
    ],
    "product_versions": {
      "dp_complaints": "2.0.0"
    }
  },
  "data_quality": {
    "freshness": {
      "dp_complaints": null
    },
    "quality_checks": {
      "dp_complaints": true
    }
  },
  "sql": {
    "final_sql": "SELECT product, state, COUNT(*) AS complaint_count FROM dp_complaints WHERE 1=1 AND date_received >= CURRENT_DATE - INTERVAL '12 months' GROUP BY product, state HAVING COUNT(*) >= 10 ORDER BY product LIMIT 200",
    "canonical_sql": "SELECT PRODUCT, STATE, COUNT(*) AS COMPLAINT_COUNT FROM DP_COMPLAINTS WHERE 1=1 AND DATE_RECEIVED >= CURRENT_DATE - INTERVAL '12 MONTHS' GROUP BY PRODUCT, STATE HAVING COUNT(*) >= 10 ORDER BY PRODUCT LIMIT 200",
    "sql_hash": "4bad840578651ea1f73b4ed26019491b516309726bbb695c1555be7949cb4b53"
  },
  "results": {
    "row_count": 200,
    "suppression_count": 0
  },
  "lineage": {
    "event_id": "c4a6dead-13d6-47bb-8c4a-611fa4e67d41"
  },
  "export": {
    "artifact_path": null
  }
}